let pendingFrom=function(){$(".add-friend-button").click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(".add-friend-button").prop("href"),success:function(e){console.log(e.data),$(".add-friend-button").remove(),$(".add-chat-friend-group").prepend(`\n                <span class="pending-from">Friend Request Pending</span>\n                        <a href="/users/friends-cancel-form/?from=${e.data.from}&to=${e.data.to}" class="cancel-friend-button">\n                            Want to cancel it?\n                 </a>`),cancelPendingForm(),new Noty({theme:"relax",text:"The ball is now on the other side!",type:"success",layput:"topRight",timeout:1500}).show()},error:function(e){console.log(e.responseText)}})}))};pendingFrom();let cancelPendingForm=function(){$(".cancel-friend-button").click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(".cancel-friend-button").prop("href"),success:function(e){console.log(e.data),$(".cancel-friend-button").remove(),$(".pending-from").remove(),$(".add-chat-friend-group").prepend(`\n                <a href="/users/friends-pending-form/?from=${e.data.to}&to=${e.data.from}" class="add-friend-button">\n                Add Friend\n                </a>`),pendingFrom(),new Noty({theme:"relax",text:"Yes, maybe this was not the right moment!",type:"success",layput:"topRight",timeout:1500}).show()},error:function(e){console.log(e.responseText)}})}))};cancelPendingForm();let noFriendshipAnswer=function(){$(".no-friend-button").click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(".no-friend-button").prop("href"),success:function(e){console.log(e.data),$(".pending-form-options").remove(),$(".pending-form-present").remove(),$(".add-chat-friend-group").prepend(`\n                <a href="/users/friends-pending-form/?from=${e.data.from}&to=${e.data.to}" class="add-friend-button">\n                Add Friend\n                </a>`),pendingFrom(),new Noty({theme:"relax",text:"Yes, maybe this was not the right moment!",type:"success",layput:"topRight",timeout:1500}).show()},error:function(e){console.log(e.responseText)}})}))};noFriendshipAnswer();let confirmFriendshipAnswer=function(){$(".confirm-friend-button").click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(".confirm-friend-button").prop("href"),success:function(e){console.log(e.data),$(".pending-form-options").remove(),$(".pending-form-present").remove();let n=$('<div data-toggle="modal" data-target="#removeFriendModal" class="remove-friend-button-1">\n                    Remove Friend\n                </div>');$("main").append(` <div class="modal fade remove-friend-warning" id="removeFriendModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">\n                <div class="modal-dialog" role="document">\n                  <div class="modal-content">\n                    <div class="modal-header">\n                      <h5 class="modal-title" id="removeFriendModalLabel"><i class="fas fa-trash-alt"></i> Buddy?</h5>\n                    </div>\n                    <div class="modal-body">\n                        <p>Are you sure you want to remove <b>${e.data.name}</b> from your sky? </p>\n                    </div>\n                    <div class="modal-footer">\n                        <a href="/users/destroy-friends/false/?from=${e.data.to}&to=${e.data.from}" class="btn btn-primary remove-friend-button">\n                                Remove Friend\n                        </a>\n                        <button type="button" class="btn discard-friend" data-dismiss="modal">Discard</button>\n                    </div>\n                  </div>\n                </div>\n              </div>`),$(".add-chat-friend-group").prepend(n),1==e.data.length?($("#collapseOne .card-body .normal-connections").html(e.data.length+" Connection"),$("#friendModal .modal-title").html(e.data.length+" Connection")):($("#collapseOne .card-body .normal-connections").html(e.data.length+" Connections"),$("#friendModal .modal-title").html(e.data.length+" Connections")),$("#friendModal .modal-body ul").prepend(` <li id="user-${e.data.to}" class="friend-list">\n                        <a href="/users/profile/${e.data.from}">\n                            <img src=${e.data.img}> \n                            <span>${e.data.friendName}</span>\n                       </a>\n                </li>`),destroyFriendshipAnswer($("main .remove-friend-warning .remove-friend-button")),new Noty({theme:"relax",text:"Congrats, one more friendship blossomed!",type:"success",layput:"topRight",timeout:1500}).show()},error:function(e){console.log(e.responseText)}})}))};confirmFriendshipAnswer();let destroyFriendshipAnswer=function(e){$(e).click((function(n){n.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){console.log(e.data),e.data.length>0?1==e.data.length?($("#friendModal .modal-title").html(e.data.length+" Connection"),$("#collapseOne .normal-connections").html(e.data.length+" Connection")):($("#friendModal .modal-title").html(e.data.length+" Connections"),$("#collapseOne .normal-connections").html(e.data.length+" Connections")):($("#friendModal").modal("hide"),$("#friendModal").remove(),$("#collapseOne .card-body p").remove(),e.data.loggedUserPage?($("#collapseOne .card-body").append("<div>Are you ready for it?</div>"),$("body .delete-friend-warning").remove()):$("#collapseOne .card-body").append("<div>Well, Looks like you have to make the first move xD!</div>")),$(".modal-backdrop").remove(),$("body").removeClass("modal-open"),e.data.loggedUserPage?($("#deleteFriendModal-"+e.data.to).modal("hide"),$("#deleteFriendModal-"+e.data.to).remove(),$("#friendModal .modal-body ul #user-"+e.data.to).remove()):($(".add-chat-friend-group .remove-friend-button-1").remove(),$("main .remove-friend-warning").modal("hide"),$("main .remove-friend-warning").remove(),$(".add-chat-friend-group").prepend(`\n                    <a href="/users/friends-pending-form/?from=${e.data.from}&to=${e.data.to}" class="add-friend-button">\n                    Add Friend\n                    </a>`),pendingFrom(),$("#friendModal .modal-body ul #user-"+e.data.from).remove()),new Noty({theme:"relax",text:"Hope to see you guys back!",type:"success",layput:"topRight",timeout:1500}).show()},error:function(e){console.log(e.responseText)}})}))};$(".remove-friend-button").each((function(){let e=$(this);destroyFriendshipAnswer(e)}));