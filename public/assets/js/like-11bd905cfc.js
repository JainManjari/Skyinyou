class ToggleLike{constructor(a){this.toggler=a,this.toggleLike()}toggleLike(){$(this.toggler).click((function(a){a.preventDefault();let t=this;$.ajax({type:"get",url:$(t).attr("href")}).done((function(a){console.log(a.data);let e=parseInt($(t).attr("data-likes"));if(console.log(e),a.data.type=a.data.type.toLowerCase(),1==a.data.deleted)e-=1,"commentreply"==a.data.type&&$(`#reply-${a.data.id}-like-toggle`).html('Like <i class="far fa-thumbs-up"></i>'),$("#like-"+a.data.likeID).remove();else{e+=1;let t=$(`<li id="like-${a.data.likeID}"><a href="/users/profile/${a.data.userID}">\n                    <span>${a.data.name}</span>\n                    </a></li>`);a.data.userImage?$(" a",t).prepend(`<img src=${a.data.userImage}>`):$(" a",t).prepend(`<div class="concealed-image" style="background:${a.data.userBgColor}"><span>${a.data.name.split(" ")[0].charAt(0)}</span></div>`),$(`#${a.data.type}-${a.data.id}-likes-list`).prepend(t),"commentreply"==a.data.type&&$(`#reply-${a.data.id}-like-toggle`).html('Unlike <i class="far fa-thumbs-up"></i>')}$(t).attr("data-likes",e),e>0?"commentreply"==a.data.type?(1==e?$(`#${a.data.type}-${a.data.id}-likes-number span`).html(e+" Reaction"):$(`#${a.data.type}-${a.data.id}-likes-number span`).html(e+" Reactions"),$(`#${a.data.type}-${a.data.id}-like-title span`).html(e+' <i class="far fa-heart"></i>')):($(`#${a.data.type}-${a.data.id}-likes-number span`).html(""+e),$(`#${a.data.type}-${a.data.id}-like-title span`).html(e+' <i class="far fa-heart"></i>')):($(`#${a.data.type}-${a.data.id}-likes-number span`).html(""),$(`#${a.data.type}-${a.data.id}-like-title span`).html(' <i class="far fa-heart"></i>'))})).fail((function(a){console.log("error in completing the request ",a)}))}))}}