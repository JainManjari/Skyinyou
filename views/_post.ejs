<link rel="stylesheet" href="/css/post-likes.css">

<li  id="post-<%= i.id %>" class="post-list animated-box in">
    <div class="post-like-box">
        <div class="post-likes-number">
            
            <a class="toggle-like-button" href="/likes/toggle/?id=<%=i._id%>&type=Post" data-likes="<%= i.likes.length %>">
                <%= i.likes.length %> <i class="fas fa-thumbs-up like-thumbs"></i>
            </a>
        </div>
        
            <ul id="post-<%= i.id %>-likes" class="post-like-username-list" >
                    <% for(like of i.likes) {%>
                        <li id="like-<%= like._id %>">
                            
                            <a href="/users/profile/<%= like.user._id %>"><%= like.user.name %></a>
                            
                        </li>
                    <% } %>
            
            </ul>
    
    </div>
    <div class="content">
        <% if(locals.user.id==i.user.id) { %>
            <small> 
                <a href="/posts/destroy-post/<%= i.id %>" class="delete-post-button">Delete Post</a>
            </small>
        <% } %>
        <p>
            <%= i.content %> <br>
            <small><%= i.user.name %></small>
        </p>
        <div class="post-comments">
            <form action="/comments/create-comment" method="post" id="post-<%= i._id %>-comments-form">
                <input type="text" name="content" placeholder="Type here to add comment...." required>
                <input type="hidden" name="post" value="<%= i._id %>">
                <button type="submit">Add comment</button>
            </form>
        </div>
        <div class="post-comments-list">
            <ul id="post-comments-<%= i._id %>">
                <% for(comment of i.comments) { %>
                   <%- include("_comment") -%>
                <% } %>
            </ul>
    
        </div>
    </div>
    
   
</li>